Текущая работа:

	1. +
	
	2. На выделенном таймер почему стартанул время раунда и респавн волну в районе 120000 секунд (хотя параметры стандартные были). Проверить.
		Возможно это глюк именно локального выделенного сервера
		Есть подозрение что serverTime на лок.выделенном сбоит (он берется за основу таймера).

	3. +

	4. Базы закрыты КТ - неуязвимость для солдат и техники внутри зоны.
		--------- Не реализовано для техники
	
	5. Если осталось менее 10% живых у стороны - сделать ускоренный респаун (сократить до менее минуты) ценой... какой ценой? потери одной зоны?
	
	6. Сделать раздельные для сторон волны респавна.
	
	7. Между раундами - менять время дня и форкаст + дождь
	
	8. После конца раунда делать (1- или 2х) паузу, для перекура и чтобы игроки отдохнули в спектаторе.
	
	10. Сделать визуализацию захвата точки для игроков

		
		
								Концепт

									!) Как стимулировать игроков к командной игре, а не разбеганию по одному по местности
										Рации у обычных солдат простейшие, без программатора.
											Проверять что тимспик запущен и подключен к серверу
											
										Захват точек (в секунду):
											Для захвата - минимум 2ч в зоне (и на 1 больше обороны)
											Кап - 1000 очков
											Захват = (захватчики - обороняющиеся) * 3 + (БонусСквадов)
											БонСквадов = БонСквадов + (колво сосквадников)
											
											Если обороны больше - то же самое но на убывание (если зона принадлежит солдатам - значит знак минус)
											
											3 сквадных, 1 рандом - захват. 2 обороны:
												(4-2)*3 + 3 = +9 (111 секунд)
											
										Отделение - макс 9ч
										Классы:
											КО::
												Солдат
												Медик (макс-2)
												
												при >=4ч
													Пулемет (макс 1)
													ГП (макс 1)
													РПГшник (макс 1)
									!) 





Старт миссии
	+ При старте - 120 секунд на подготовку/прогрузку. Появляются все мертвыми (стандартная процедура захода на сервер). А волна респауна - через 120 секунд.
	
	+ Делать серверную переменную NSA_GameStarted = 120 и (-1) каждую секунду (+ отображение клиентам таймера).
		+ Клиенты при подключении проверяют ее и если она <=0 (игра началась) - выполнять скрипты как JIP (игрок ждет следующей волны респавна). Иначе - игрок появляется сразу.

			
Заход на сервер
	игрок заходит мертвым и ждет волны респавна. Если игра своенравно прогружает бота - проследить что при убийстве на старте трупик бота удаляется.

Респавн
							Альтернатива
								При смерти игрок сразу респавнится в буферной зоне, ему дается возможность спектаторить за игроками своей команды вне буферной зоны.
									можно выбрать точку респа (база, фоб) - никаких фобов.
									пока игрок в буфере - отправлять в тфар в канал мертвых
										[player, true] call TFAR_fnc_forceSpectator;
									
								Игроку в буфере выдается группа гражданских (CIV)
									[this] joinSilent createGroup civillian
	
	
	
	+ Если солдат в бессознанке и подходит волна респавна - убить и зареспавнить беднягу.
	
							Выбор респауна
								Возможно добавить возможность выбора респавна (продумать корреляцию стандартной функции BIS_fnc_respawnMenuPosition с режимом спектатора - возможно за 30 секунд до респавна вырубать спектатор и включать выбор респа)
								Выбрать т.респа может только КО для своего отделения.
	
+ Спектатор {
	+ Только от первого лица
	+ показывать только группы стороны игрока (гражданская сторона - нет)
	
						Подумать над тем чтобы применять ежиковский спектатор
							В нем проблема - как затерминейтить его без глюков
							Вот тут проблема (нельзя выйти из цикла):
								https://github.com/iEzhuk/HIA3_Spectator/blob/a53c72cb1cd91d7393cce9473f9f8aaf18e9485c/addons/HIA3_Spectator/functions/fn_mapLoop.sqf
	
	+ EG Spectator:	
		https://community.bistudio.com/wiki/EG_Spectator_Mode
			onPlayerKilled.sqf
				["Initialize", [player, [west, east], false, false]] call BIS_fnc_EGSpectator;
			onPlayerRespawn.sqf
				["Terminate"] call BIS_fnc_EGSpectator;
}
			
Базы {
	Базы закрыты КТ - неуязвимость для солдат и техники внутри зоны.
		--------- Не реализовано для техники
	
	+ Вокруг КТ триггер поставить, отображающий если к КТ подошел противник - подвижными маркерами на карте
	
	
	
	
	
	
	Машина с БК и машина с топливом - заблокированные. В машине с БК -в инвентаре- ящик доп обордования
		Ящик доп (ограниченное количество ништяков (типа рюкзаков))
		
		Ящик-арсенал (бесконечные безделушки, типа пистолетов, патронов к ним, очков и тд - составить список)
			ПНВ
			Очки
			Пистолеты Глок и Грач (+патроны)
			РСП
			Химсвет / Фаеры
	
	
	---- Проблема с ценными объектами (их могут множить путем респаунов и перезаходов). Но и автоудалять их глупо - слишком аркадно. Надо подумать
			Карты
			Рации
			Прицелы
	
		а) сделать невозможным их сбрасывать (огр. число класнеймов) - при сбросе на землю - с земли тут же удалять, а юниту в инвентарь выдавать вещь обратно.
}

	
	
	
Техника 
	- делать проверку на перевернутую технику. Если такая есть - респавнить ее.
	Добавить возможность отправить на респавн технику вручную (наподобии как в ТВД) - помеченная таким образом техника через 60 сек будет залочена и реснется при следующей волне подкреплений.
	
	Если технику захватил враг - делать проверку, находится ли в распоряжении стороны техника данного типа, или ей в данный момент управляет противник / она на базе противника / она брошена и в радиусе 100 м. нет союзных сил / она повреждена и не может двигаться. Если так, то спавнить новую единицу.
	
	Для "устаревшей" техники делать таймер в 10 минут / по окончанию раунда - и удалять. На карте при покидании техники ставить тайм-маркер когда была оставлена. Спустя Х минут - удаление.
	
	
Точки захвата
	! Цепочка из 5 точек (3 при малом колве людей)
	
	+ последовательный захват (Делать проверку - если соседняя точка принадлежит стороне - то можно захватывать)
	
	+ Точки выбираются рандомно
		Доп условие - между выбранными точками должно быть хотя бы 400 метров (надобность под вопросом)
	
	+ Между раундами:
		+ Рандомно выбирать другие точки
		+ Если на точке текущего раунда есть разрушенные здания - восстанавливать их.

	- Сделать визуализацию захвата точки для игроков 
		
Очистка

	
	
Финал
	Все локальные переменные поубирать под private
	
	
	
	
	
	
	
	
Баги
	1. -